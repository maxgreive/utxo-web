---
import Layout from "./Base.astro";
import PostList from "../components/PostList.astro";
import Header from "../components/BlogHeader.astro";

import { posts } from "../helpers";
import { getLangFromUrl, filterPostsByLang } from "../i18n/utils";

const lang = getLangFromUrl(Astro.url);
const filteredPosts = filterPostsByLang(lang, posts)
---

<Layout>
  <Header title="Blog" />
  <PostList posts={filteredPosts} />
</Layout>
