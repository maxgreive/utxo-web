---
import { posts } from "../helpers";
import { getLangFromUrl, filterPostsByLang } from "../i18n/utils";
const lang = getLangFromUrl(Astro.url);
const filteredPosts = filterPostsByLang(lang, posts);
---

<section
  class="blog-area-two blog-bg-two"
  data-background="assets/img/bg/h9_blog_bg.jpg"
>
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-lg-6">
        <div
          class="section-title-four text-center mb-50 tg-heading-subheading animation-style3"
        >
          <span class="sub-title tg-element-title">News & Blogs</span>
          <h2 class="title tg-element-title">Read Our Latest Updates</h2>
          <p>
            Ever find yourself staring at your computer screen a good consulting
            slogan to come to mind? Oftentimes.
          </p>
        </div>
      </div>
    </div>
    <div class="row justify-content-center">
      {
        filteredPosts.slice(0, 3).map((post) => (
          <div class="col-lg-4 col-md-6 col-sm-10">
            <div class="blog-post-item-two">
              <div class="blog-post-thumb-two">
                <a href={`/blog/${post.slug}`}>
                  <img src={post.data.cover} alt="" />
                </a>
                <a href="blog.html" class="tag">
                  {post.data.tags[0]}
                </a>
              </div>
              <div class="blog-post-content-two">
                <h2 class="title">
                  <a href={`/blog/${post.slug}`}>{post.data.title}</a>
                </h2>
                <p class="line-clamp-4">{post.data.description}</p>
                <div class="blog-meta">
                  <ul class="list-wrap">
                    <li>
                      <a href={`/blog/${post.slug}`}>
                        <img src="assets/img/blog/blog_avatar01.png" alt="" />
                        {post.data.author}
                      </a>
                    </li>
                    <li>
                      <i class="far fa-calendar" />
                      {post.data.date}
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        ))
      }
    </div>
  </div>
</section>
